build: ALLOCACHE_AS_MALLOC=1 LTO=0 WITHOUT_GTK=1 RELEASE=0 LUNATIC=0 make
platform: Linux/x86_64

----------

See the comment in MV_Init().

Thread 3:
Invalid read of size 2
   at 0x8730513: MV_Mix16BitStereo16Stereo (mixst.c:272)
   by 0x872A5A2: MV_Mix (multivoc.c:285)
   by 0x872B0EA: MV_ServiceVoc (multivoc.c:449)
   by 0x87342C1: fillData (driver_sdl.c:80)
   by 0x428F2AD: ??? (in /usr/lib/libSDL_mixer-1.2.so.0.2.6)
           . . .
 Address 0x11e9fa10 is 0 bytes after a block of size 9,728 alloc'd
   at 0x402732C: calloc (vg_replace_malloc.c:467)
   by 0x87288C8: MV_Init (multivoc.c:2528)
   by 0x871BD20: FX_Init (fx_man.c:160)
   by 0x84597CA: S_SoundStartup (sounds.c:62)
   by 0x80D7869: app_main (game.c:10378)
   by 0x870C9C0: main (sdlayer.c:222)

----------

AMC TC: drawing character selection screen? (The program was gdb-stopped for a
while before.)

Invalid read of size 1
   at 0x11C8A709: bcmp (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x513A08: S_PlayMusic (sounds.c:265)
   by 0x4F94E0: G_EnterLevel (premap.c:1917)
   by 0x42CCF7: G_NewGame_EnterLevel (game.h:553)
   by 0x453BB3: app_main (game.c:11859)
   by 0x5BAB3C: main (sdlayer.c:278)
 Address 0x19206e30 is 0 bytes after a block of size 0 alloc'd
   at 0x11C852DB: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x51396F: S_PlayMusic (sounds.c:253)
   by 0x4F94E0: G_EnterLevel (premap.c:1917)
   by 0x42CCF7: G_NewGame_EnterLevel (game.h:553)
   by 0x453BB3: app_main (game.c:11859)
   by 0x5BAB3C: main (sdlayer.c:278)

----------

AMC TC: drawing Shadow Warrior Riot Gun.

Invalid read of size 1
   at 0x5BEE8C: mspritevline (a-c.c:554)
   by 0x541AFB: dorotatesprite (engine.c:7742)
   by 0x556DAD: rotatesprite_ (engine.c:14581)
   by 0x4A7D8F: VM_Execute (gameexec.c:2735)
   by 0x4A68F4: VM_Execute (gameexec.c:2346)
   by 0x4A4404: VM_Execute (gameexec.c:1779)
   by 0x4B1469: VM_Execute (gameexec.c:4974)
   by 0x4B1469: VM_Execute (gameexec.c:4974)
   by 0x4A43D5: VM_Execute (gameexec.c:1772)
   by 0x4B1170: VM_Execute (gameexec.c:4928)
   by 0x4A4404: VM_Execute (gameexec.c:1779)
   by 0x4B1170: VM_Execute (gameexec.c:4928)
 Address 0x1f3524d6 is 22 bytes after a block of size 131,072 free'd
   at 0x11C8660C: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x4B5BB9: Gv_Free (gamevars.c:49)
   by 0x4B6EEF: Gv_ResetVars (gamevars.c:369)
   by 0x4F7290: G_NewGame (premap.c:1423)
   by 0x42CCED: G_NewGame_EnterLevel (game.h:551)
   by 0x453BB3: app_main (game.c:11859)
   by 0x5BAB4A: main (sdlayer.c:278)

----------

AMC TC: select James. Switching between his first weapon (a pistol) and the
next one, but still drawing the first one. Appears to happen only once.

Invalid read of size 1
   at 0x5BEE8C: mspritevline (a-c.c:554)
   by 0x541AFB: dorotatesprite (engine.c:7742)
   by 0x556DAD: rotatesprite_ (engine.c:14581)
   by 0x4A7D8F: VM_Execute (gameexec.c:2735)
   by 0x4A68F4: VM_Execute (gameexec.c:2346)
   by 0x4A43D5: VM_Execute (gameexec.c:1772)
   by 0x4B1170: VM_Execute (gameexec.c:4928)
   by 0x4A4404: VM_Execute (gameexec.c:1779)
   by 0x4B1170: VM_Execute (gameexec.c:4928)
   by 0x4A4404: VM_Execute (gameexec.c:1779)
   by 0x4B1170: VM_Execute (gameexec.c:4928)
   by 0x4B1170: VM_Execute (gameexec.c:4928)
 Address 0x278048b5 is 5 bytes after a block of size 1,024 free'd
   at 0x11C8660C: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x12B3DAE0: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.0.0)
   by 0x12B3DB2C: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.0.0)
   by 0x12B40009: SDL_LowerBlit (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.0.0)
   by 0x12B4023C: SDL_UpperBlit (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.0.0)
   by 0x5BD15A: showframe (sdlayer.c:1922)
   by 0x54C44B: nextpage (engine.c:11208)
   by 0x454291: app_main (game.c:12000)
   by 0x5BAB4A: main (sdlayer.c:278)

----------

AMC TC: Polymost, voxels, r4292 line numbers

Use of uninitialised value of size 8
   at 0x59BFF1: gloadtex (mdsprite.c:2571)
   by 0x5A06E3: voxdraw (mdsprite.c:3301)
   by 0x572F25: polymost_drawsprite (polymost.c:3730)
   by 0x53912B: drawsprite_opengl (engine.c:5571)
   by 0x53DC18: drawsprite (engine.c:6579)
   by 0x545DD2: drawmasks (engine.c:9478)
   by 0x43B655: G_HandleMirror (game.c:4296)
   by 0x43C6A9: G_DrawRooms (game.c:4638)
   by 0x4543AD: app_main (game.c:12018)
   by 0x5BAB4A: main (sdlayer.c:278)

----------

Non-pow2 ysize tiles.

Invalid read of size 1
   at 0x505D26: vlineasm4 (a-c.c:138)
   by 0x47A5C1: wallscan (engine.c:3905)
   by 0x47E549: drawalls (engine.c:4978)
   by 0x48C342: drawrooms (engine.c:9052)
   by 0x47192D: yax_drawrooms (engine.c:1174)
   by 0x50756B: M32_DrawRoomsAndMasks (build.c:476)
   by 0x507F69: app_main (build.c:742)
   by 0x502328: main (sdlayer.c:278)
 Address 0x1ea6f89d is 0 bytes after a block of size 10,509 alloc'd
   at 0x112D62DB: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x46A0D3: allocache (cache1d.c:164)
   by 0x494A35: loadtile (engine.c:11521)
   by 0x475BAE: maskwallscan (engine.c:2832)
   by 0x482DC3: drawsprite_classic (engine.c:6094)
   by 0x485467: drawsprite (engine.c:6581)
   by 0x48D759: drawmasks (engine.c:9495)
   by 0x507589: M32_DrawRoomsAndMasks (build.c:479)
   by 0x507F69: app_main (build.c:742)
   by 0x502328: main (sdlayer.c:278)

----------

BLiGHT: strafing (tilts the screen).

Invalid read of size 1
   at 0x5BE3A6: vlineasm4 (a-c.c:125)
   by 0x532C3E: wallscan (engine.c:3905)
   by 0x5356CB: parascan (engine.c:4607)
   by 0x536288: drawalls (engine.c:4853)
   by 0x5449BF: drawrooms (engine.c:9052)
   by 0x529FAA: yax_drawrooms (engine.c:1174)
   by 0x43C627: G_DrawRooms (game.c:4650)
   by 0x45426D: app_main (game.c:12014)
   by 0x5BA9A5: main (sdlayer.c:278)
 Address 0x26c8a44a is 10 bytes after a block of size 128,000 alloc'd
   at 0x11C852DB: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
   by 0x51D524: allocache (cache1d.c:160)
   by 0x54D0B2: loadtile (engine.c:11521)
   by 0x4F3BF4: G_CacheMapData (premap.c:487)
   by 0x4F930A: G_EnterLevel (premap.c:1910)
   by 0x4BC269: G_NewGame_EnterLevel (game.h:553)
   by 0x4C5364: M_DisplayMenus (menus.c:2442)
   by 0x486A91: G_PlaybackDemo (demo.c:936)
   by 0x453A46: app_main (game.c:11844)
   by 0x5BA9A5: main (sdlayer.c:278)
